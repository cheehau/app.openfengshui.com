{"version":3,"sources":["webpack:///./node_modules/grommet/es6/components/Select/StyledSelect.js","webpack:///./node_modules/grommet/es6/components/Select/utils.js","webpack:///./node_modules/grommet/es6/components/Select/SelectContainer.js","webpack:///./node_modules/grommet/es6/components/Select/Select.js"],"names":["StyledContainer","div","withConfig","displayName","componentId","props","dropHeight","theme","select","container","extend","applyKey","option","key","undefined","_extends","Object","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this","OptionsBox","OptionBox","Box","selected","SelectOption","Button","_ref","clear","onClear","name","setFocus","label","align","position","buttonLabel","createElement","onClick","onFocus","onBlur","Text","text","SelectContainer","_ref2","ref","_ref2$children","children","disabled","disabledKey","_ref2$emptySearchMess","emptySearchMessage","id","labelKey","multiple","onChange","onKeyDown","onMore","onSearch","optionIndexesInValue","options","allOptions","searchPlaceholder","search","setSearch","_ref2$value","value","valueKey","_ref2$replace","replace","_useState","activeIndex","setActiveIndex","_useState2","keyboardNavigation","setKeyboardNavigation","_useState3","focus","searchRef","optionsRef","timer","setTimeout","optionsNode","current","searchInput","clearTimeout","optionLabel","index","optionValue","isDisabled","result","Array","isArray","indexOf","optionVal","isSelected","some","valueItem","selectOption","event","nextValue","nextSelected","nextOptionIndexesInValue","slice","allOptionsIndex","valueIndex","push","splice","map","reduce","onNextOption","preventDefault","nextActiveIndex","onPreviousOption","onKeyDownOption","findIndex","e","charAt","toLowerCase","onActiveOption","onSelectOption","customSearchInput","SelectTextInput","TextInput","selectOptionsStyle","box","Keyboard","onEnter","onUp","onDown","as","pad","flex","focusIndicator","size","type","placeholder","nextSearch","role","tabIndex","InfiniteScroll","items","step","show","optionRef","child","optionDisabled","optionSelected","optionActive","active","plain","kind","hoverIndicator","onMouseOver","defaultCursor","HiddenInput","input","StyledSelectDropButton","DropButton","callerPlain","control","open","defaultProps","setPrototypeOf","defaultDropAlign","top","left","defaultMessages","Select","a11yTitle","alignSelf","_ref$clear","_ref$closeOnChange","closeOnChange","defaultValue","_ref$dropAlign","dropAlign","dropProps","dropTarget","gridArea","icon","margin","_ref$messages","messages","onClose","onOpen","propOpen","optionsProp","valueProp","valueLabel","rest","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","inputRef","_formContext$useFormI","FormContext","useFormInput","setValue","valuedValue","v","setAllOptions","forEach","setOpen","SelectIcon","onRequestOpen","onRequestClose","triggerChangeEvent","getOwnPropertyDescriptor","window","HTMLInputElement","set","Event","bubbles","dispatchEvent","onSelectChange","adjustedEvent","persist","constructor","defineProperties","icons","up","down","selectValue","isValidElement","inputValue","iconColor","color","dropContent","direction","justify","background","basis","Fragment","readOnly","style","minWidth","SelectWrapper"],"mappings":"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","file":"920425f23723a0f08142086441d239d87505b718-fa039956b1a6ca91a15d.js","sourcesContent":["import styled from 'styled-components';\nimport { sizeStyle } from '../../utils';\nexport var StyledContainer = styled.div.withConfig({\n  displayName: \"StyledSelect__StyledContainer\",\n  componentId: \"znp66n-0\"\n})([\"@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){width:100%;}\", \";\", \";\"], function (props) {\n  return props.dropHeight ? sizeStyle('max-height', props.dropHeight, props.theme) : 'max-height: inherit;';\n}, function (props) {\n  return props.theme.select.container && props.theme.select.container.extend;\n});","export var applyKey = function applyKey(option, key) {\n  if (option === undefined) return undefined;\n  if (typeof key === 'object') return applyKey(option, key.key);\n  if (typeof key === 'function') return key(option);\n  if (key !== undefined) return option[key];\n  return option;\n};","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { forwardRef, useCallback, useContext, useEffect, useRef, useState } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport { selectedStyle, setFocusWithoutScroll } from '../../utils';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { InfiniteScroll } from '../InfiniteScroll';\nimport { Keyboard } from '../Keyboard';\nimport { Text } from '../Text';\nimport { TextInput } from '../TextInput';\nimport { StyledContainer } from './StyledSelect';\nimport { applyKey } from './utils'; // position relative is so scroll can be managed correctly\n\nvar OptionsBox = styled.div.withConfig({\n  displayName: \"SelectContainer__OptionsBox\",\n  componentId: \"sc-1wi0ul8-0\"\n})([\"position:relative;scroll-behavior:smooth;overflow:auto;outline:none;\"]);\nvar OptionBox = styled(Box).withConfig({\n  displayName: \"SelectContainer__OptionBox\",\n  componentId: \"sc-1wi0ul8-1\"\n})([\"\", \"\"], function (props) {\n  return props.selected && selectedStyle;\n});\nvar SelectOption = styled(Button).withConfig({\n  displayName: \"SelectContainer__SelectOption\",\n  componentId: \"sc-1wi0ul8-2\"\n})([\"display:block;width:100%;\"]);\n\nvar ClearButton = function ClearButton(_ref) {\n  var clear = _ref.clear,\n      onClear = _ref.onClear,\n      name = _ref.name,\n      theme = _ref.theme,\n      setFocus = _ref.setFocus;\n  var label = clear.label,\n      position = clear.position;\n  var align = position !== 'bottom' ? 'start' : 'center';\n  var buttonLabel = label || \"Clear \" + (name || 'selection');\n  return /*#__PURE__*/React.createElement(Button, {\n    onClick: onClear,\n    onFocus: function onFocus() {\n      return setFocus(true);\n    },\n    onBlur: function onBlur() {\n      return setFocus(false);\n    }\n  }, /*#__PURE__*/React.createElement(Box, _extends({}, theme.select.clear.container, {\n    align: align\n  }), /*#__PURE__*/React.createElement(Text, theme.select.clear.text, buttonLabel)));\n};\n\nvar SelectContainer = /*#__PURE__*/forwardRef(function (_ref2, ref) {\n  var clear = _ref2.clear,\n      _ref2$children = _ref2.children,\n      children = _ref2$children === void 0 ? null : _ref2$children,\n      disabled = _ref2.disabled,\n      disabledKey = _ref2.disabledKey,\n      dropHeight = _ref2.dropHeight,\n      _ref2$emptySearchMess = _ref2.emptySearchMessage,\n      emptySearchMessage = _ref2$emptySearchMess === void 0 ? 'No matches found' : _ref2$emptySearchMess,\n      id = _ref2.id,\n      labelKey = _ref2.labelKey,\n      multiple = _ref2.multiple,\n      name = _ref2.name,\n      onChange = _ref2.onChange,\n      onKeyDown = _ref2.onKeyDown,\n      onMore = _ref2.onMore,\n      onSearch = _ref2.onSearch,\n      optionIndexesInValue = _ref2.optionIndexesInValue,\n      options = _ref2.options,\n      allOptions = _ref2.allOptions,\n      searchPlaceholder = _ref2.searchPlaceholder,\n      search = _ref2.search,\n      setSearch = _ref2.setSearch,\n      selected = _ref2.selected,\n      _ref2$value = _ref2.value,\n      value = _ref2$value === void 0 ? '' : _ref2$value,\n      valueKey = _ref2.valueKey,\n      _ref2$replace = _ref2.replace,\n      replace = _ref2$replace === void 0 ? true : _ref2$replace;\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n\n  var _useState = useState(-1),\n      activeIndex = _useState[0],\n      setActiveIndex = _useState[1];\n\n  var _useState2 = useState(),\n      keyboardNavigation = _useState2[0],\n      setKeyboardNavigation = _useState2[1];\n\n  var _useState3 = useState(false),\n      focus = _useState3[0],\n      setFocus = _useState3[1];\n\n  var searchRef = useRef();\n  var optionsRef = useRef(); // adjust activeIndex when options change\n\n  useEffect(function () {\n    if (activeIndex === -1 && search && optionIndexesInValue.length) {\n      setActiveIndex(optionIndexesInValue[0]);\n    }\n  }, [activeIndex, optionIndexesInValue, search]); // set initial focus\n\n  useEffect(function () {\n    // need to wait for Drop to be ready\n    var timer = setTimeout(function () {\n      var optionsNode = optionsRef.current;\n\n      if (onSearch) {\n        var searchInput = searchRef.current;\n\n        if (searchInput && searchInput.focus) {\n          setFocusWithoutScroll(searchInput);\n        }\n      } else if (optionsNode) {\n        setFocusWithoutScroll(optionsNode);\n      }\n    }, 100);\n    return function () {\n      return clearTimeout(timer);\n    };\n  }, [onSearch]); // clear keyboardNavigation after a while\n\n  useEffect(function () {\n    if (keyboardNavigation) {\n      // 100ms was empirically determined\n      var timer = setTimeout(function () {\n        return setKeyboardNavigation(false);\n      }, 100);\n      return function () {\n        return clearTimeout(timer);\n      };\n    }\n\n    return undefined;\n  }, [keyboardNavigation]);\n  var optionLabel = useCallback(function (index) {\n    return applyKey(options[index], labelKey);\n  }, [labelKey, options]);\n  var optionValue = useCallback(function (index) {\n    return applyKey(options[index], valueKey);\n  }, [options, valueKey]);\n  var isDisabled = useCallback(function (index) {\n    var option = options[index];\n    var result;\n\n    if (disabledKey) {\n      result = applyKey(option, disabledKey);\n    } else if (Array.isArray(disabled)) {\n      if (typeof disabled[0] === 'number') {\n        result = disabled.indexOf(index) !== -1;\n      } else {\n        var optionVal = optionValue(index);\n        result = disabled.indexOf(optionVal) !== -1;\n      }\n    }\n\n    return result;\n  }, [disabled, disabledKey, options, optionValue]);\n  var isSelected = useCallback(function (index) {\n    var result;\n\n    if (selected) {\n      // deprecated in favor of value\n      result = selected.indexOf(index) !== -1;\n    } else {\n      var optionVal = optionValue(index);\n\n      if (Array.isArray(value)) {\n        if (value.length === 0) {\n          result = false;\n        } else if (typeof value[0] !== 'object') {\n          result = value.indexOf(optionVal) !== -1;\n        } else if (valueKey) {\n          result = value.some(function (valueItem) {\n            var valueValue = typeof valueKey === 'function' ? valueKey(valueItem) : valueItem[valueKey];\n            return valueValue === optionVal;\n          });\n        }\n      } else if (valueKey && typeof value === 'object') {\n        var valueValue = typeof valueKey === 'function' ? valueKey(value) : value[valueKey];\n        result = valueValue === optionVal;\n      } else {\n        result = value === optionVal;\n      }\n    }\n\n    return result;\n  }, [optionValue, selected, value, valueKey]);\n  var selectOption = useCallback(function (index) {\n    return function (event) {\n      if (onChange) {\n        var nextValue;\n        var nextSelected;\n\n        if (multiple) {\n          var nextOptionIndexesInValue = optionIndexesInValue.slice(0);\n          var allOptionsIndex = allOptions.indexOf(options[index]);\n          var valueIndex = optionIndexesInValue.indexOf(allOptionsIndex);\n\n          if (valueIndex === -1) {\n            nextOptionIndexesInValue.push(allOptionsIndex);\n          } else {\n            nextOptionIndexesInValue.splice(valueIndex, 1);\n          }\n\n          nextValue = nextOptionIndexesInValue.map(function (i) {\n            return valueKey && valueKey.reduce ? applyKey(allOptions[i], valueKey) : allOptions[i];\n          });\n          nextSelected = nextOptionIndexesInValue;\n        } else {\n          nextValue = valueKey && valueKey.reduce ? applyKey(options[index], valueKey) : options[index];\n          nextSelected = index;\n        }\n\n        onChange(event, {\n          option: options[index],\n          value: nextValue,\n          selected: nextSelected\n        });\n      }\n    };\n  }, [multiple, onChange, optionIndexesInValue, options, allOptions, valueKey]);\n  var onClear = useCallback(function (event) {\n    onChange(event, {\n      option: undefined,\n      value: '',\n      selected: ''\n    });\n  }, [onChange]);\n  var onNextOption = useCallback(function (event) {\n    event.preventDefault();\n    var nextActiveIndex = activeIndex + 1;\n\n    while (nextActiveIndex < options.length && isDisabled(nextActiveIndex)) {\n      nextActiveIndex += 1;\n    }\n\n    if (nextActiveIndex !== options.length) {\n      setActiveIndex(nextActiveIndex);\n      setKeyboardNavigation(true);\n    }\n  }, [activeIndex, isDisabled, options]);\n  var onPreviousOption = useCallback(function (event) {\n    event.preventDefault();\n    var nextActiveIndex = activeIndex - 1;\n\n    while (nextActiveIndex >= 0 && isDisabled(nextActiveIndex)) {\n      nextActiveIndex -= 1;\n    }\n\n    if (nextActiveIndex >= 0) {\n      setActiveIndex(nextActiveIndex);\n      setKeyboardNavigation(true);\n    }\n  }, [activeIndex, isDisabled]);\n  var onKeyDownOption = useCallback(function (event) {\n    if (!onSearch) {\n      var nextActiveIndex = options.findIndex(function (e, index) {\n        var label;\n\n        if (typeof e === 'object') {\n          label = e.label || applyKey(e, labelKey);\n        } else {\n          label = e;\n        }\n\n        return typeof label === 'string' && label.charAt(0).toLowerCase() === event.key.toLowerCase() && !isDisabled(index);\n      });\n\n      if (nextActiveIndex >= 0) {\n        event.preventDefault();\n        setActiveIndex(nextActiveIndex);\n        setKeyboardNavigation(true);\n      }\n    }\n\n    if (onKeyDown) {\n      onKeyDown(event);\n    }\n  }, [onKeyDown, options, isDisabled, onSearch, labelKey]);\n  var onActiveOption = useCallback(function (index) {\n    return function () {\n      if (!keyboardNavigation) setActiveIndex(index);\n    };\n  }, [keyboardNavigation]);\n  var onSelectOption = useCallback(function (event) {\n    if (activeIndex >= 0 && !focus) {\n      event.preventDefault(); // prevent submitting forms\n\n      selectOption(activeIndex)(event);\n    }\n  }, [activeIndex, selectOption, focus]);\n  var customSearchInput = theme.select.searchInput;\n  var SelectTextInput = customSearchInput || TextInput;\n  var selectOptionsStyle = theme.select.options ? _extends({}, theme.select.options.box, theme.select.options.container) : {};\n  return /*#__PURE__*/React.createElement(Keyboard, {\n    onEnter: onSelectOption,\n    onUp: onPreviousOption,\n    onDown: onNextOption,\n    onKeyDown: onKeyDownOption\n  }, /*#__PURE__*/React.createElement(StyledContainer, {\n    ref: ref,\n    as: Box,\n    id: id ? id + \"__select-drop\" : undefined,\n    dropHeight: dropHeight\n  }, onSearch && /*#__PURE__*/React.createElement(Box, {\n    pad: !customSearchInput ? 'xsmall' : undefined,\n    flex: false\n  }, /*#__PURE__*/React.createElement(SelectTextInput, {\n    focusIndicator: !customSearchInput,\n    size: \"small\",\n    ref: searchRef,\n    type: \"search\",\n    value: search || '',\n    placeholder: searchPlaceholder,\n    onChange: function onChange(event) {\n      var nextSearch = event.target.value;\n      setSearch(nextSearch);\n      setActiveIndex(-1);\n      onSearch(nextSearch);\n    }\n  })), clear && clear.position !== 'bottom' && value && /*#__PURE__*/React.createElement(ClearButton, {\n    clear: clear,\n    name: name,\n    onClear: onClear,\n    theme: theme,\n    setFocus: setFocus\n  }), /*#__PURE__*/React.createElement(OptionsBox, {\n    role: \"menubar\",\n    tabIndex: \"-1\",\n    ref: optionsRef\n  }, options.length > 0 ? /*#__PURE__*/React.createElement(InfiniteScroll, {\n    items: options,\n    step: theme.select.step,\n    onMore: onMore,\n    replace: replace,\n    show: activeIndex !== -1 ? activeIndex : undefined\n  }, function (option, index, optionRef) {\n    var optionDisabled = isDisabled(index);\n    var optionSelected = isSelected(index);\n    var optionActive = activeIndex === index; // Determine whether the label is done as a child or\n    // as an option Button kind property.\n\n    var child;\n    if (children) child = children(option, index, options, {\n      active: optionActive,\n      disabled: optionDisabled,\n      selected: optionSelected\n    });else if (theme.select.options) child = /*#__PURE__*/React.createElement(OptionBox, _extends({}, selectOptionsStyle, {\n      selected: optionSelected\n    }), /*#__PURE__*/React.createElement(Text, theme.select.options.text, optionLabel(index))); // if we have a child, turn on plain, and hoverIndicator\n\n    return /*#__PURE__*/React.createElement(SelectOption // eslint-disable-next-line react/no-array-index-key\n    , {\n      key: index,\n      ref: optionRef,\n      tabIndex: \"-1\",\n      role: \"menuitem\",\n      plain: !child ? undefined : true,\n      align: \"start\",\n      kind: !child ? 'option' : undefined,\n      hoverIndicator: !child ? undefined : 'background',\n      label: !child ? optionLabel(index) : undefined,\n      disabled: optionDisabled || undefined,\n      active: optionActive,\n      selected: optionSelected,\n      option: option,\n      onMouseOver: !optionDisabled ? onActiveOption(index) : undefined,\n      onClick: !optionDisabled ? selectOption(index) : undefined\n    }, child);\n  }) : /*#__PURE__*/React.createElement(SelectOption, {\n    key: \"search_empty\",\n    tabIndex: \"-1\",\n    role: \"menuitem\",\n    hoverIndicator: \"background\",\n    disabled: true,\n    option: emptySearchMessage\n  }, /*#__PURE__*/React.createElement(OptionBox, selectOptionsStyle, /*#__PURE__*/React.createElement(Text, theme.select.container.text, emptySearchMessage)))), clear && clear.position === 'bottom' && value && /*#__PURE__*/React.createElement(ClearButton, {\n    clear: clear,\n    name: name,\n    onClear: onClear,\n    theme: theme,\n    setFocus: setFocus\n  })));\n});\nexport { SelectContainer };","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { forwardRef, isValidElement, useCallback, useContext, useMemo, useState, useRef, useEffect } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport { controlBorderStyle, normalizeColor } from '../../utils';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { DropButton } from '../DropButton';\nimport { Keyboard } from '../Keyboard';\nimport { FormContext } from '../Form/FormContext';\nimport { TextInput } from '../TextInput';\nimport { SelectContainer } from './SelectContainer';\nimport { applyKey } from './utils';\nvar SelectTextInput = styled(TextInput).withConfig({\n  displayName: \"Select__SelectTextInput\",\n  componentId: \"sc-17idtfo-0\"\n})([\"cursor:\", \";\"], function (props) {\n  return props.defaultCursor ? 'default' : 'pointer';\n});\nvar HiddenInput = styled.input.withConfig({\n  displayName: \"Select__HiddenInput\",\n  componentId: \"sc-17idtfo-1\"\n})([\"display:none;\"]);\nvar StyledSelectDropButton = styled(DropButton).withConfig({\n  displayName: \"Select__StyledSelectDropButton\",\n  componentId: \"sc-17idtfo-2\"\n})([\"\", \";\", \";\", \";\"], function (props) {\n  return !props.callerPlain && controlBorderStyle;\n}, function (props) {\n  return props.theme.select && props.theme.select.control && props.theme.select.control.extend;\n}, function (props) {\n  return props.open && props.theme.select.control.open;\n});\nStyledSelectDropButton.defaultProps = {};\nObject.setPrototypeOf(StyledSelectDropButton.defaultProps, defaultProps);\nvar defaultDropAlign = {\n  top: 'bottom',\n  left: 'left'\n};\nvar defaultMessages = {\n  multiple: 'multiple'\n};\nvar Select = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n      alignSelf = _ref.alignSelf,\n      children = _ref.children,\n      _ref$clear = _ref.clear,\n      clear = _ref$clear === void 0 ? false : _ref$clear,\n      _ref$closeOnChange = _ref.closeOnChange,\n      closeOnChange = _ref$closeOnChange === void 0 ? true : _ref$closeOnChange,\n      defaultValue = _ref.defaultValue,\n      disabled = _ref.disabled,\n      disabledKey = _ref.disabledKey,\n      _ref$dropAlign = _ref.dropAlign,\n      dropAlign = _ref$dropAlign === void 0 ? defaultDropAlign : _ref$dropAlign,\n      dropHeight = _ref.dropHeight,\n      dropProps = _ref.dropProps,\n      dropTarget = _ref.dropTarget,\n      emptySearchMessage = _ref.emptySearchMessage,\n      focusIndicator = _ref.focusIndicator,\n      gridArea = _ref.gridArea,\n      id = _ref.id,\n      icon = _ref.icon,\n      labelKey = _ref.labelKey,\n      margin = _ref.margin,\n      _ref$messages = _ref.messages,\n      messages = _ref$messages === void 0 ? defaultMessages : _ref$messages,\n      multiple = _ref.multiple,\n      name = _ref.name,\n      onChange = _ref.onChange,\n      onClick = _ref.onClick,\n      onClose = _ref.onClose,\n      onKeyDown = _ref.onKeyDown,\n      onMore = _ref.onMore,\n      onOpen = _ref.onOpen,\n      onSearch = _ref.onSearch,\n      propOpen = _ref.open,\n      optionsProp = _ref.options,\n      placeholder = _ref.placeholder,\n      plain = _ref.plain,\n      replace = _ref.replace,\n      searchPlaceholder = _ref.searchPlaceholder,\n      selected = _ref.selected,\n      size = _ref.size,\n      valueProp = _ref.value,\n      valueKey = _ref.valueKey,\n      valueLabel = _ref.valueLabel,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"a11yTitle\", \"alignSelf\", \"children\", \"clear\", \"closeOnChange\", \"defaultValue\", \"disabled\", \"disabledKey\", \"dropAlign\", \"dropHeight\", \"dropProps\", \"dropTarget\", \"emptySearchMessage\", \"focusIndicator\", \"gridArea\", \"id\", \"icon\", \"labelKey\", \"margin\", \"messages\", \"multiple\", \"name\", \"onChange\", \"onClick\", \"onClose\", \"onKeyDown\", \"onMore\", \"onOpen\", \"onSearch\", \"open\", \"options\", \"placeholder\", \"plain\", \"replace\", \"searchPlaceholder\", \"selected\", \"size\", \"value\", \"valueKey\", \"valueLabel\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n  var inputRef = useRef();\n  var formContext = useContext(FormContext); // value is used for what we receive in valueProp and the basis for\n  // what we send with onChange\n  // When 'valueKey' sets 'reduce', the value(s) here should match\n  // what the 'valueKey' would return for the corresponding\n  // selected option object.\n  // Otherwise, the value(s) should match the selected options.\n\n  var _formContext$useFormI = formContext.useFormInput(name, valueProp, defaultValue || ''),\n      value = _formContext$useFormI[0],\n      setValue = _formContext$useFormI[1]; // valuedValue is the value mapped with any valueKey applied\n  // When the options array contains objects, this property indicates how\n  // to retrieve the value of each option.\n  // If a string is provided, it is used as the key to retrieve a\n  // property of an option object.\n  // If a function is provided, it is called with the option and should\n  // return the value.\n  // If reduce is true, this value will be used for the 'value'\n  // delivered via 'onChange'.\n\n\n  var valuedValue = useMemo(function () {\n    if (Array.isArray(value)) return value.map(function (v) {\n      return valueKey && valueKey.reduce ? v : applyKey(v, valueKey);\n    });\n    return valueKey && valueKey.reduce ? value : applyKey(value, valueKey);\n  }, [value, valueKey]); // search input value\n\n  var _useState = useState(),\n      search = _useState[0],\n      setSearch = _useState[1]; // All select option indices and values\n\n\n  var _useState2 = useState(optionsProp),\n      allOptions = _useState2[0],\n      setAllOptions = _useState2[1]; // Track changes to options property, except when options are being\n  // updated due to search activity. Allows option's initial index value\n  // to be referenced when filtered by search.\n\n\n  useEffect(function () {\n    if (!search) setAllOptions(optionsProp);\n  }, [optionsProp, search]); // the option indexes present in the value\n\n  var optionIndexesInValue = useMemo(function () {\n    var result = [];\n    allOptions.forEach(function (option, index) {\n      if (selected !== undefined) {\n        if (Array.isArray(selected)) {\n          if (selected.indexOf(index) !== -1) result.push(index);\n        } else if (index === selected) {\n          result.push(index);\n        }\n      } else if (Array.isArray(valuedValue)) {\n        if (valuedValue.some(function (v) {\n          return v === applyKey(option, valueKey);\n        })) {\n          result.push(index);\n        }\n      } else if (valuedValue === applyKey(option, valueKey)) {\n        result.push(index);\n      }\n    });\n    return result;\n  }, [allOptions, selected, valueKey, valuedValue]);\n\n  var _useState3 = useState(propOpen),\n      open = _useState3[0],\n      setOpen = _useState3[1];\n\n  useEffect(function () {\n    return setOpen(propOpen);\n  }, [propOpen]);\n  var onRequestOpen = useCallback(function () {\n    if (open) return;\n    setOpen(true);\n    if (onOpen) onOpen();\n  }, [onOpen, open]);\n  var onRequestClose = useCallback(function () {\n    setOpen(false);\n    if (onClose) onClose();\n  }, [onClose]);\n  var triggerChangeEvent = useCallback(function (nextValue) {\n    // Calling set value function directly on input because React library\n    // overrides setter `event.target.value =` and loses original event\n    // target fidelity.\n    // https://stackoverflow.com/a/46012210\n    var nativeInputValueSetter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, 'value').set;\n    nativeInputValueSetter.call(inputRef.current, nextValue);\n    var event = new Event('input', {\n      bubbles: true\n    });\n    inputRef.current.dispatchEvent(event);\n  }, []);\n  var onSelectChange = useCallback(function (event, _ref2) {\n    var option = _ref2.option,\n        nextValue = _ref2.value,\n        nextSelected = _ref2.selected;\n    if (closeOnChange) onRequestClose(); // nextValue must not be of type object to set value directly on the\n    // input. if it is an object, then the user has not provided necessary\n    // props to reduce object option\n\n    if (typeof nextValue !== 'object' && nextValue !== event.target.value && inputRef.current) {\n      // select registers changing option as a click event or keydown.\n      // when in a form, we need to programatically trigger a change\n      // event in order for the change event to be registered upstream\n      // necessary for change validation in form\n      triggerChangeEvent(nextValue);\n    }\n\n    setValue(nextValue);\n\n    if (onChange) {\n      event.persist();\n      var adjustedEvent; // support for native event used by Preact\n\n      if (event instanceof Event) {\n        adjustedEvent = new event.constructor(event.type, event);\n        Object.defineProperties(adjustedEvent, {\n          target: {\n            value: inputRef.current\n          },\n          value: {\n            value: nextValue\n          },\n          option: {\n            value: option\n          },\n          selected: {\n            value: nextSelected\n          }\n        });\n      } else {\n        adjustedEvent = event;\n        adjustedEvent.target = inputRef.current;\n        adjustedEvent.value = nextValue;\n        adjustedEvent.option = option;\n        adjustedEvent.selected = nextSelected;\n      }\n\n      onChange(adjustedEvent);\n    }\n\n    setSearch();\n  }, [closeOnChange, onChange, onRequestClose, setValue, triggerChangeEvent]);\n  var SelectIcon;\n\n  switch (icon) {\n    case false:\n      break;\n\n    case true:\n    case undefined:\n      SelectIcon = open && theme.select.icons.up ? theme.select.icons.up : theme.select.icons.down;\n      break;\n\n    default:\n      SelectIcon = icon;\n  } // element to show, trumps inputValue\n\n\n  var selectValue = useMemo(function () {\n    if (valueLabel) return valueLabel;\n    if ( /*#__PURE__*/React.isValidElement(value)) return value; // deprecated\n\n    return undefined;\n  }, [value, valueLabel]); // text to show\n  // When the options array contains objects, this property indicates how\n  // to retrieve the value of each option.\n  // If a string is provided, it is used as the key to retrieve a\n  // property of an option object.\n  // If a function is provided, it is called with the option and should\n  // return the value.\n  // If reduce is true, this value will be used for the 'value'\n  // delivered via 'onChange'.\n\n  var inputValue = useMemo(function () {\n    if (!selectValue) {\n      if (optionIndexesInValue.length === 0) return '';\n      if (optionIndexesInValue.length === 1) return applyKey(allOptions[optionIndexesInValue[0]], labelKey);\n      return messages.multiple;\n    }\n\n    return undefined;\n  }, [labelKey, messages, optionIndexesInValue, allOptions, selectValue]);\n  var iconColor = normalizeColor(theme.select.icons.color || 'control', theme);\n  return /*#__PURE__*/React.createElement(Keyboard, {\n    onDown: onRequestOpen,\n    onUp: onRequestOpen\n  }, /*#__PURE__*/React.createElement(StyledSelectDropButton, {\n    ref: ref,\n    a11yTitle: a11yTitle,\n    id: id,\n    disabled: disabled === true || undefined,\n    dropAlign: dropAlign,\n    dropTarget: dropTarget,\n    open: open,\n    alignSelf: alignSelf,\n    focusIndicator: focusIndicator,\n    gridArea: gridArea,\n    margin: margin,\n    onOpen: onRequestOpen,\n    onClose: onRequestClose,\n    onClick: onClick,\n    dropContent: /*#__PURE__*/React.createElement(SelectContainer, {\n      clear: clear,\n      disabled: disabled,\n      disabledKey: disabledKey,\n      dropHeight: dropHeight,\n      emptySearchMessage: emptySearchMessage,\n      id: id,\n      labelKey: labelKey,\n      multiple: multiple,\n      name: name,\n      onChange: onSelectChange,\n      onKeyDown: onKeyDown,\n      onMore: onMore,\n      onSearch: onSearch,\n      options: optionsProp,\n      allOptions: allOptions,\n      optionIndexesInValue: optionIndexesInValue,\n      replace: replace,\n      searchPlaceholder: searchPlaceholder,\n      search: search,\n      setSearch: setSearch,\n      selected: selected,\n      value: value,\n      valueKey: valueKey\n    }, children) // StyledDropButton needs to know if the border should be shown\n    ,\n    callerPlain: plain,\n    plain: true // Button should be plain\n    ,\n    dropProps: dropProps,\n    theme: theme\n  }, /*#__PURE__*/React.createElement(Box, {\n    align: \"center\",\n    direction: \"row\",\n    justify: \"between\",\n    background: theme.select.background\n  }, /*#__PURE__*/React.createElement(Box, {\n    direction: \"row\",\n    flex: true,\n    basis: \"auto\"\n  }, selectValue ? /*#__PURE__*/React.createElement(React.Fragment, null, selectValue, /*#__PURE__*/React.createElement(HiddenInput, {\n    type: \"text\",\n    id: id ? id + \"__input\" : undefined,\n    value: inputValue,\n    ref: inputRef,\n    readOnly: true\n  })) : /*#__PURE__*/React.createElement(SelectTextInput, _extends({\n    a11yTitle: a11yTitle && \"\" + a11yTitle + (value && typeof value === 'string' ? \", \" + value : '') // When Select is disabled, we want to show a default cursor\n    // but not have disabled styling come from TextInput\n    // Disabled can be a bool or an array of options to disable.\n    // We only want to disable the TextInput if the control\n    // button should be disabled which occurs when disabled\n    // equals true.\n    ,\n    defaultCursor: disabled === true || undefined,\n    focusIndicator: false,\n    id: id ? id + \"__input\" : undefined,\n    name: name,\n    ref: inputRef\n  }, rest, {\n    tabIndex: \"-1\",\n    type: \"text\",\n    placeholder: placeholder,\n    plain: true,\n    readOnly: true,\n    value: inputValue,\n    size: size,\n    theme: theme\n  }))), SelectIcon && /*#__PURE__*/React.createElement(Box, {\n    margin: theme.select.icons.margin,\n    flex: false,\n    style: {\n      minWidth: 'auto'\n    }\n  }, /*#__PURE__*/isValidElement(SelectIcon) ? SelectIcon : /*#__PURE__*/React.createElement(SelectIcon, {\n    color: iconColor,\n    size: size\n  })))));\n});\nSelect.defaultProps = _extends({}, defaultProps);\nSelect.displayName = 'Select';\nvar SelectDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  SelectDoc = require('./doc').doc(Select);\n}\n\nvar SelectWrapper = SelectDoc || Select;\nexport { SelectWrapper as Select };"],"sourceRoot":""}