{"version":3,"sources":["webpack:///./node_modules/grommet/es6/contexts/AnnounceContext/AnnounceContext.js","webpack:///./node_modules/grommet/es6/components/TextInput/StyledTextInput.js","webpack:///./node_modules/grommet/es6/components/TextInput/TextInput.js","webpack:///./node_modules/grommet/es6/components/InfiniteScroll/InfiniteScroll.js","webpack:///./node_modules/grommet/es6/components/Form/FormContext.js"],"names":["AnnounceContext","createContext","message","mode","timeout","announcer","document","body","querySelector","createElement","id","style","left","right","position","insertBefore","firstChild","createAnnouncer","setAttribute","innerHTML","setTimeout","StyledTextInput","input","withConfig","displayName","componentId","props","plain","icon","reverse","theme","global","edgeSize","large","disabled","textInput","opacity","textAlign","extend","defaultProps","Object","setPrototypeOf","StyledTextInputContainer","div","container","StyledPlaceholder","control","border","width","placeholder","StyledIcon","StyledSuggestions","ol","suggestions","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","renderLabel","suggestion","label","value","stringLabel","ContainerBox","Box","dropHeight","defaultDropAlign","top","defaultMessages","enterSelect","suggestionsCount","suggestionsExist","suggestionIsOpen","TextInput","_ref","ref","a11yTitle","defaultSuggestion","defaultValue","_ref$dropAlign","dropAlign","dropTarget","dropProps","_ref$focusIndicator","focusIndicator","_ref$messages","messages","name","_onBlur","onBlur","onChange","_onFocus","onFocus","onKeyDown","onSelect","onSuggestionSelect","onSuggestionsClose","onSuggestionsOpen","readOnly","valueProp","rest","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","announce","formContext","FormContext","inputRef","dropRef","suggestionsRef","_formContext$useFormI","useFormInput","undefined","setValue","_useState","focus","setFocus","_useState2","showDrop","setShowDrop","handleSuggestionSelect","handleTextSelect","_useState3","suggestionsAtClose","setSuggestionsAtClose","openDrop","closeDrop","valueSuggestionIndex","map","resetSuggestionIndex","_useState4","activeSuggestionIndex","setActiveSuggestionIndex","_useState5","mouseMovedSinceLastKey","setMouseMovedSinceLastKey","timer","list","current","parentNode","item","children","scrollTo","offsetTop","getBoundingClientRect","height","clearTimeout","drop","setValueFromSuggestion","event","persist","adjustedEvent","onNextSuggestion","preventDefault","nextActiveIndex","Math","min","onPreviousSuggestion","max","_useState6","showStyledPlaceholder","setShowStyledPlaceholder","extraProps","Drop","align","responsive","onClickOutside","onEsc","overflow","onMouseMove","InfiniteScroll","items","step","select","show","index","itemRef","child","renderedLabel","button","option","pad","Button","active","fill","kind","onClick","keyboardProps","onEnter","onUp","onDown","onTab","Keyboard","autoComplete","relatedTarget","TextInputWrapper","calculateLastPageBound","floor","InfiniteScrollWrapper","_ref$items","onMore","renderMarker","replace","_ref$step","scrollShow","setScrollShow","lastPage","renderPageBounds","setRenderPageBounds","pageHeights","setPageHeights","pendingLength","setPendingLength","aboveMarkerRef","belowMarkerRef","scrollParents","evaluate","scrollParent","documentElement","scrollTop","window","innerHeight","offset","nextBeginPage","pagesHeight","nextEndPage","showPage","debounce","forEach","sp","addEventListener","removeEventListener","showIndex","showNode","scrollIntoView","rendered","nextPageHeights","lastBottom","topIndex","bottomIndex","bottom","concat","_nextPageHeights","aboveHeight","belowHeight","firstIndex","lastIndex","result","marker","flex","cloneElement","push","slice","_marker","renderedMarker","node","useFormField","error","info","_","initialValue","nextValue"],"mappings":"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","file":"af9c09e00f1e719af62442182494acff942a4ba5-ad7a7c73b965200c99f9.js","sourcesContent":["import React from 'react';\n\nvar createAnnouncer = function createAnnouncer() {\n  var announcer = document.createElement('div');\n  announcer.id = 'grommet-announcer';\n  announcer.style.left = '-100%';\n  announcer.style.right = '100%';\n  announcer.style.position = 'fixed';\n  announcer.style['z-index'] = '-1';\n  document.body.insertBefore(announcer, document.body.firstChild);\n  return announcer;\n};\n\nexport var AnnounceContext = /*#__PURE__*/React.createContext(function (message, mode, timeout) {\n  if (mode === void 0) {\n    mode = 'polite';\n  }\n\n  if (timeout === void 0) {\n    timeout = 500;\n  } // we only create a new container if we don't have one already\n  // we create a separate node so that grommet does not set aria-hidden to it\n\n\n  var announcer = document.body.querySelector(\"#grommet-announcer[aria-live]\") || createAnnouncer();\n  announcer.setAttribute('aria-live', 'off');\n  announcer.innerHTML = message;\n  announcer.setAttribute('aria-live', mode);\n  setTimeout(function () {\n    announcer.innerHTML = '';\n  }, timeout);\n});","import styled, { css } from 'styled-components';\nimport { disabledStyle, getInputPadBySide, inputStyle, parseMetricToNum, plainInputStyle, textAlignStyle } from '../../utils';\nimport { defaultProps } from '../../default-props';\n\nvar getPlainStyle = function getPlainStyle(plain) {\n  if (plain === 'full') {\n    return css([\"\", \" padding:0;\"], plainInputStyle);\n  }\n\n  return plain && plainInputStyle;\n};\n\nvar StyledTextInput = styled.input.withConfig({\n  displayName: \"StyledTextInput\",\n  componentId: \"sc-1x30a0s-0\"\n})([\"\", \" \", \" \", \" \", \" \", \" \", \";\"], inputStyle, function (props) {\n  return getPlainStyle(props.plain);\n}, function (props) {\n  return props.icon && (props.reverse ? \"padding-right: \" + props.theme.global.edgeSize.large + \";\" : \"padding-left: \" + props.theme.global.edgeSize.large + \";\");\n}, function (props) {\n  return props.disabled && disabledStyle(props.theme.textInput.disabled && props.theme.textInput.disabled.opacity);\n}, function (props) {\n  return props.textAlign && textAlignStyle;\n}, function (props) {\n  return props.theme.textInput && props.theme.textInput.extend;\n});\nStyledTextInput.defaultProps = {};\nObject.setPrototypeOf(StyledTextInput.defaultProps, defaultProps);\nvar StyledTextInputContainer = styled.div.withConfig({\n  displayName: \"StyledTextInput__StyledTextInputContainer\",\n  componentId: \"sc-1x30a0s-1\"\n})([\"position:relative;width:100%;\", \";\"], function (props) {\n  return props.theme.textInput && props.theme.textInput.container && props.theme.textInput.container.extend;\n});\nStyledTextInputContainer.defaultProps = {};\nObject.setPrototypeOf(StyledTextInputContainer.defaultProps, defaultProps);\nvar StyledPlaceholder = styled.div.withConfig({\n  displayName: \"StyledTextInput__StyledPlaceholder\",\n  componentId: \"sc-1x30a0s-2\"\n})([\"position:absolute;left:\", \"px;top:50%;transform:translateY(-50%);display:flex;justify-content:center;pointer-events:none;\", \";\"], function (props) {\n  return parseMetricToNum(getInputPadBySide(props, 'left')) - parseMetricToNum(props.theme.global.control.border.width);\n}, function (props) {\n  return props.theme.textInput && props.theme.textInput.placeholder && props.theme.textInput.placeholder.extend;\n});\nStyledPlaceholder.defaultProps = {};\nObject.setPrototypeOf(StyledPlaceholder.defaultProps, defaultProps);\nvar StyledIcon = styled.div.withConfig({\n  displayName: \"StyledTextInput__StyledIcon\",\n  componentId: \"sc-1x30a0s-3\"\n})([\"position:absolute;display:flex;justify:center;top:50%;transform:translateY(-50%);pointer-events:none;\", \"\"], function (props) {\n  return props.reverse ? \"right: \" + getInputPadBySide(props, 'right') + \";\" : \"left: \" + getInputPadBySide(props, 'left') + \";\";\n});\nvar StyledSuggestions = styled.ol.withConfig({\n  displayName: \"StyledTextInput__StyledSuggestions\",\n  componentId: \"sc-1x30a0s-4\"\n})([\"border-top-left-radius:0;border-top-right-radius:0;margin:0;padding:0;list-style-type:none;\", \";\"], function (props) {\n  return props.theme.textInput && props.theme.textInput.suggestions && props.theme.textInput.suggestions.extend;\n});\nStyledSuggestions.defaultProps = {};\nObject.setPrototypeOf(StyledSuggestions.defaultProps, defaultProps);\nexport { StyledTextInput, StyledTextInputContainer, StyledPlaceholder, StyledIcon, StyledSuggestions };","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { forwardRef, useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Drop } from '../Drop';\nimport { InfiniteScroll } from '../InfiniteScroll';\nimport { Keyboard } from '../Keyboard';\nimport { FormContext } from '../Form/FormContext';\nimport { AnnounceContext } from '../../contexts';\nimport { isNodeAfterScroll, isNodeBeforeScroll, sizeStyle, useForwardedRef } from '../../utils';\nimport { StyledTextInput, StyledTextInputContainer, StyledPlaceholder, StyledIcon, StyledSuggestions } from './StyledTextInput';\n\nvar renderLabel = function renderLabel(suggestion) {\n  if (suggestion && typeof suggestion === 'object') {\n    return suggestion.label || suggestion.value;\n  }\n\n  return suggestion;\n};\n\nvar stringLabel = function stringLabel(suggestion) {\n  if (suggestion && typeof suggestion === 'object') {\n    if (suggestion.label && typeof suggestion.label === 'string') {\n      return suggestion.label;\n    }\n\n    return suggestion.value;\n  }\n\n  return suggestion;\n};\n\nvar ContainerBox = styled(Box).withConfig({\n  displayName: \"TextInput__ContainerBox\",\n  componentId: \"sc-1ai0c08-0\"\n})([\"\", \";@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){width:100%;}\"], function (props) {\n  return props.dropHeight ? sizeStyle('max-height', props.dropHeight, props.theme) : 'max-height: inherit;';\n});\nvar defaultDropAlign = {\n  top: 'bottom',\n  left: 'left'\n};\nvar defaultMessages = {\n  enterSelect: '(Press Enter to Select)',\n  suggestionsCount: 'suggestions available',\n  suggestionsExist: 'This input has suggestions use arrow keys to navigate',\n  suggestionIsOpen: 'Suggestions drop is open, continue to use arrow keys to navigate'\n};\nvar TextInput = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n      defaultSuggestion = _ref.defaultSuggestion,\n      defaultValue = _ref.defaultValue,\n      _ref$dropAlign = _ref.dropAlign,\n      dropAlign = _ref$dropAlign === void 0 ? defaultDropAlign : _ref$dropAlign,\n      dropHeight = _ref.dropHeight,\n      dropTarget = _ref.dropTarget,\n      dropProps = _ref.dropProps,\n      _ref$focusIndicator = _ref.focusIndicator,\n      focusIndicator = _ref$focusIndicator === void 0 ? true : _ref$focusIndicator,\n      icon = _ref.icon,\n      id = _ref.id,\n      _ref$messages = _ref.messages,\n      messages = _ref$messages === void 0 ? defaultMessages : _ref$messages,\n      name = _ref.name,\n      _onBlur = _ref.onBlur,\n      onChange = _ref.onChange,\n      _onFocus = _ref.onFocus,\n      onKeyDown = _ref.onKeyDown,\n      onSelect = _ref.onSelect,\n      onSuggestionSelect = _ref.onSuggestionSelect,\n      onSuggestionsClose = _ref.onSuggestionsClose,\n      onSuggestionsOpen = _ref.onSuggestionsOpen,\n      placeholder = _ref.placeholder,\n      plain = _ref.plain,\n      readOnly = _ref.readOnly,\n      reverse = _ref.reverse,\n      suggestions = _ref.suggestions,\n      textAlign = _ref.textAlign,\n      valueProp = _ref.value,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"a11yTitle\", \"defaultSuggestion\", \"defaultValue\", \"dropAlign\", \"dropHeight\", \"dropTarget\", \"dropProps\", \"focusIndicator\", \"icon\", \"id\", \"messages\", \"name\", \"onBlur\", \"onChange\", \"onFocus\", \"onKeyDown\", \"onSelect\", \"onSuggestionSelect\", \"onSuggestionsClose\", \"onSuggestionsOpen\", \"placeholder\", \"plain\", \"readOnly\", \"reverse\", \"suggestions\", \"textAlign\", \"value\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n  var announce = useContext(AnnounceContext);\n  var formContext = useContext(FormContext);\n  var inputRef = useForwardedRef(ref);\n  var dropRef = useRef();\n  var suggestionsRef = useRef(); // if this is a readOnly property, don't set a name with the form context\n  // this allows Select to control the form context for the name.\n\n  var _formContext$useFormI = formContext.useFormInput(readOnly ? undefined : name, valueProp),\n      value = _formContext$useFormI[0],\n      setValue = _formContext$useFormI[1];\n\n  var _useState = useState(),\n      focus = _useState[0],\n      setFocus = _useState[1];\n\n  var _useState2 = useState(false),\n      showDrop = _useState2[0],\n      setShowDrop = _useState2[1];\n\n  var handleSuggestionSelect = useMemo(function () {\n    return onSelect && !onSuggestionSelect ? onSelect : onSuggestionSelect;\n  }, [onSelect, onSuggestionSelect]);\n  var handleTextSelect = useMemo(function () {\n    return onSelect && onSuggestionSelect ? onSelect : undefined;\n  }, [onSelect, onSuggestionSelect]);\n\n  var _useState3 = useState(),\n      suggestionsAtClose = _useState3[0],\n      setSuggestionsAtClose = _useState3[1];\n\n  var openDrop = useCallback(function () {\n    setShowDrop(true);\n    announce(messages.suggestionIsOpen);\n    announce(suggestions.length + \" \" + messages.suggestionsCount);\n    if (onSuggestionsOpen) onSuggestionsOpen();\n  }, [announce, messages.suggestionsCount, messages.suggestionIsOpen, onSuggestionsOpen, suggestions]);\n  var closeDrop = useCallback(function () {\n    setSuggestionsAtClose(suggestions); // must be before closing drop\n\n    setShowDrop(false);\n    if (messages.onSuggestionsClose) onSuggestionsClose();\n    if (onSuggestionsClose) onSuggestionsClose();\n  }, [messages.onSuggestionsClose, onSuggestionsClose, suggestions]); // Handle scenarios where we have focus, the drop isn't showing,\n  // and the suggestions change. We don't want to open the drop if\n  // the drop has been closed by onEsc and the suggestions haven't\n  // changed. So, we remember the suggestions we are showing when\n  // the drop was closed and only re-open it when the suggestions\n  // subsequently change.\n\n  useEffect(function () {\n    if (focus && !showDrop && suggestions && suggestions.length && (!suggestionsAtClose || suggestionsAtClose.length !== suggestions.length)) {\n      openDrop();\n    }\n  }, [focus, openDrop, showDrop, suggestions, suggestionsAtClose]); // if we have no suggestions, close drop if it's open\n\n  useEffect(function () {\n    if (showDrop && (!suggestions || !suggestions.length)) closeDrop();\n  }, [closeDrop, showDrop, suggestions]);\n  var valueSuggestionIndex = useMemo(function () {\n    return suggestions ? suggestions.map(function (suggestion) {\n      return typeof suggestion === 'object' ? suggestion.value : suggestion;\n    }).indexOf(value) : -1;\n  }, [suggestions, value]); // choose the best suggestion, either the explicit default or the one\n  // that matches the current value\n\n  var resetSuggestionIndex = useMemo(function () {\n    if (valueSuggestionIndex === -1 && typeof defaultSuggestion === 'number') {\n      return defaultSuggestion;\n    }\n\n    return valueSuggestionIndex;\n  }, [defaultSuggestion, valueSuggestionIndex]); // activeSuggestionIndex unifies mouse and keyboard interaction of\n  // the suggestions\n\n  var _useState4 = useState(resetSuggestionIndex),\n      activeSuggestionIndex = _useState4[0],\n      setActiveSuggestionIndex = _useState4[1]; // Only update active suggestion index when the mouse actually moves,\n  // not when suggestions are moving under the mouse.\n\n\n  var _useState5 = useState(),\n      mouseMovedSinceLastKey = _useState5[0],\n      setMouseMovedSinceLastKey = _useState5[1]; // set activeSuggestionIndex when value changes\n\n\n  useEffect(function () {\n    return setActiveSuggestionIndex(valueSuggestionIndex);\n  }, [valueSuggestionIndex]); // reset activeSuggestionIndex when the drop is closed\n\n  useEffect(function () {\n    if (!showDrop) setActiveSuggestionIndex(resetSuggestionIndex);\n  }, [resetSuggestionIndex, showDrop]); // announce active suggestion\n\n  useEffect(function () {\n    if (activeSuggestionIndex >= 0) {\n      var label = stringLabel(suggestions[activeSuggestionIndex]);\n      announce(label + \" \" + messages.enterSelect);\n    }\n  }, [activeSuggestionIndex, announce, messages, suggestions]); // make sure activeSuggestion is visible in scroll\n\n  useEffect(function () {\n    var timer = setTimeout(function () {\n      var list = suggestionsRef.current;\n\n      if (showDrop && activeSuggestionIndex !== -1 && list) {\n        var container = list.parentNode;\n        var item = list.children[activeSuggestionIndex];\n\n        if (container.scrollTo) {\n          if (isNodeAfterScroll(item, container)) container.scrollTo(0, item.offsetTop - (container.getBoundingClientRect().height - item.getBoundingClientRect().height));else if (isNodeBeforeScroll(item, container)) container.scrollTo(0, item.offsetTop);\n        }\n      }\n    }, 50); // delay to allow Drop to animate in\n\n    return function () {\n      return clearTimeout(timer);\n    };\n  }, [activeSuggestionIndex, showDrop]);\n\n  var setValueFromSuggestion = function setValueFromSuggestion(event, suggestion) {\n    // if we stole the focus in the drop, perhaps by interacting with\n    // a suggestion button or the scrollbar, give it back\n    inputRef.current.focus();\n    inputRef.current.value = suggestion; // needed for uncontrolled cases\n\n    closeDrop();\n\n    if (handleSuggestionSelect) {\n      if (event.persist) event.persist();\n      var adjustedEvent = event;\n      adjustedEvent.suggestion = suggestion;\n      handleSuggestionSelect(adjustedEvent);\n    }\n\n    setValue(suggestion);\n  };\n\n  var onNextSuggestion = useCallback(function (event) {\n    event.preventDefault();\n    var nextActiveIndex = Math.min(activeSuggestionIndex + 1, suggestions.length - 1);\n    setActiveSuggestionIndex(nextActiveIndex);\n    setMouseMovedSinceLastKey(false);\n  }, [activeSuggestionIndex, suggestions]);\n  var onPreviousSuggestion = useCallback(function (event) {\n    event.preventDefault();\n    var nextActiveIndex = Math.max(activeSuggestionIndex - 1, 0);\n    setActiveSuggestionIndex(nextActiveIndex);\n    setMouseMovedSinceLastKey(false);\n  }, [activeSuggestionIndex]);\n\n  var _useState6 = useState(placeholder && typeof placeholder !== 'string' && !(inputRef.current && inputRef.current.value) && !value),\n      showStyledPlaceholder = _useState6[0],\n      setShowStyledPlaceholder = _useState6[1];\n\n  var drop;\n  var extraProps = {\n    onSelect: handleTextSelect\n  };\n\n  if (showDrop) {\n    drop = /*#__PURE__*/React.createElement(Drop, _extends({\n      ref: dropRef,\n      id: id ? \"text-input-drop__\" + id : undefined,\n      align: dropAlign,\n      responsive: false,\n      target: dropTarget || inputRef.current,\n      onClickOutside: closeDrop,\n      onEsc: closeDrop\n    }, dropProps), /*#__PURE__*/React.createElement(ContainerBox, {\n      overflow: \"auto\",\n      dropHeight: dropHeight,\n      onMouseMove: function onMouseMove() {\n        return setMouseMovedSinceLastKey(true);\n      }\n    }, /*#__PURE__*/React.createElement(StyledSuggestions, {\n      ref: suggestionsRef\n    }, /*#__PURE__*/React.createElement(InfiniteScroll, {\n      items: suggestions,\n      step: theme.select.step,\n      show: activeSuggestionIndex !== -1 ? activeSuggestionIndex : undefined\n    }, function (suggestion, index, itemRef) {\n      // Determine whether the label is done as a child or\n      // as an option Button kind property.\n      var renderedLabel = renderLabel(suggestion);\n      var child;\n      if (typeof renderedLabel !== 'string') // must be an element rendered by suggestions.label\n        child = renderedLabel;else if (!theme.button.option) // don't have theme support, need to layout here\n        child = /*#__PURE__*/React.createElement(Box, {\n          align: \"start\",\n          pad: \"small\"\n        }, renderedLabel); // if we have a child, turn on plain\n\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: stringLabel(suggestion) + \"-\" + index,\n        ref: itemRef\n      }, /*#__PURE__*/React.createElement(Button, {\n        active: activeSuggestionIndex === index,\n        fill: true,\n        plain: !child ? undefined : true,\n        align: \"start\",\n        kind: !child ? 'option' : undefined,\n        label: !child ? renderedLabel : undefined,\n        onClick: function onClick(event) {\n          return setValueFromSuggestion(event, suggestion);\n        },\n        onMouseMove: mouseMovedSinceLastKey && activeSuggestionIndex !== index ? function () {\n          return setActiveSuggestionIndex(index);\n        } : undefined\n      }, child));\n    }))));\n  }\n\n  var keyboardProps = {\n    onKeyDown: onKeyDown\n  };\n\n  if (showDrop) {\n    keyboardProps.onEnter = function (event) {\n      // prevent submitting forms via Enter when the drop is open\n      event.preventDefault();\n      if (activeSuggestionIndex >= 0) setValueFromSuggestion(event, suggestions[activeSuggestionIndex]);else closeDrop();\n    };\n\n    if (activeSuggestionIndex > 0) keyboardProps.onUp = onPreviousSuggestion;\n    if (activeSuggestionIndex < suggestions.length - 1) keyboardProps.onDown = onNextSuggestion;\n    keyboardProps.onTab = closeDrop;\n  } else if (suggestions && suggestions.length > 0) {\n    keyboardProps.onDown = openDrop;\n  } // For the Keyboard target below, if we have focus,\n  // either on the input element or within the drop,\n  // then we set the target to the document,\n  // otherwise we only listen to onDown on the input element itself,\n  // primarily for tests.\n\n\n  return /*#__PURE__*/React.createElement(StyledTextInputContainer, {\n    plain: plain\n  }, showStyledPlaceholder && /*#__PURE__*/React.createElement(StyledPlaceholder, null, placeholder), icon && /*#__PURE__*/React.createElement(StyledIcon, {\n    reverse: reverse,\n    theme: theme\n  }, icon), /*#__PURE__*/React.createElement(Keyboard, _extends({\n    target: focus ? 'document' : undefined\n  }, keyboardProps), /*#__PURE__*/React.createElement(StyledTextInput, _extends({\n    \"aria-label\": a11yTitle,\n    ref: inputRef,\n    id: id,\n    name: name,\n    autoComplete: \"off\",\n    plain: plain,\n    placeholder: typeof placeholder === 'string' ? placeholder : undefined,\n    icon: icon,\n    reverse: reverse,\n    focus: focus,\n    focusIndicator: focusIndicator,\n    textAlign: textAlign\n  }, rest, extraProps, {\n    defaultValue: renderLabel(defaultValue),\n    value: renderLabel(value),\n    readOnly: readOnly,\n    onFocus: function onFocus(event) {\n      // Don't do anything if we are acting like we already have\n      // focus. This can happen when this input loses focus temporarily\n      // to our drop, see onBlur() handler below.\n      if (!focus) {\n        setFocus(true);\n\n        if (suggestions && suggestions.length > 0) {\n          announce(messages.suggestionsExist);\n          openDrop();\n        }\n\n        if (_onFocus) _onFocus(event);\n      }\n    },\n    onBlur: function onBlur(event) {\n      // Only treat it as a blur if the element receiving focus\n      // isn't in our drop. The relatedTarget will be our drop\n      // when the user clicks on a suggestion or interacts with the\n      // scrollbar in the drop.\n      if (!event.relatedTarget || event.relatedTarget !== dropRef.current) {\n        setFocus(false);\n        if (_onBlur) _onBlur(event);\n      }\n    },\n    onChange: readOnly ? undefined : function (event) {\n      // when TextInput is not contained in a Form, no re-render\n      // will come from this onChange and remove the placeholder\n      // so we need to update state to ensure the styled\n      // placeholder only appears when there is no value\n      setShowStyledPlaceholder(placeholder && typeof placeholder !== 'string' && !event.target.value);\n      setValue(event.target.value);\n      setActiveSuggestionIndex(resetSuggestionIndex);\n      if (onChange) onChange(event);\n    }\n  }))), drop);\n});\nTextInput.displayName = 'TextInput';\nvar TextInputDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  TextInputDoc = require('./doc').doc(TextInput);\n}\n\nvar TextInputWrapper = TextInputDoc || TextInput;\nexport { TextInputWrapper as TextInput };","import React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { useLayoutEffect } from '../../utils/use-isomorphic-layout-effect';\nimport { findScrollParent, findScrollParents, isNodeAfterScroll, isNodeBeforeScroll } from '../../utils';\nimport { Box } from '../Box';\n\nvar calculateLastPageBound = function calculateLastPageBound(show, step) {\n  return show ? Math.floor((show + step) / step) - 1 : 0;\n};\n\nvar InfiniteScroll = function InfiniteScroll(_ref) {\n  var children = _ref.children,\n      _ref$items = _ref.items,\n      items = _ref$items === void 0 ? [] : _ref$items,\n      onMore = _ref.onMore,\n      renderMarker = _ref.renderMarker,\n      replace = _ref.replace,\n      show = _ref.show,\n      _ref$step = _ref.step,\n      step = _ref$step === void 0 ? 50 : _ref$step; // item index to be made visible initially\n\n  var _useState = useState(),\n      scrollShow = _useState[0],\n      setScrollShow = _useState[1]; // the last page we have items for\n\n\n  var lastPage = useMemo(function () {\n    return Math.floor(items.length / step);\n  }, [items.length, step]); // the pages we are rendering\n\n  var _useState2 = useState([0, calculateLastPageBound(show, step)]),\n      renderPageBounds = _useState2[0],\n      setRenderPageBounds = _useState2[1]; // the heights of the pages, approximated after we render the first page\n  // and then updated for pages that have rendered\n\n\n  var _useState3 = useState([]),\n      pageHeights = _useState3[0],\n      setPageHeights = _useState3[1]; // what we're waiting for onMore to give us\n\n\n  var _useState4 = useState(0),\n      pendingLength = _useState4[0],\n      setPendingLength = _useState4[1];\n\n  var aboveMarkerRef = useRef(); // only when replacing\n\n  var belowMarkerRef = useRef(); // scroll and resize handling\n\n  useEffect(function () {\n    var scrollParents;\n\n    var evaluate = function evaluate() {\n      if (!scrollParents) return;\n      var scrollParent = scrollParents[0]; // Determine the scroll position of the scroll container\n\n      var top;\n      var height;\n\n      if (scrollParent === document) {\n        top = document.documentElement.scrollTop || document.body.scrollTop;\n        height = window.innerHeight;\n      } else {\n        top = scrollParent.scrollTop;\n        var rect = scrollParent.getBoundingClientRect();\n        height = rect.height;\n      }\n\n      var offset = height / 4; // so we pre-load when the user scrolls slowly\n      // Use the pageHeights to determine what pages we should render based\n      // on the current scroll window.\n\n      var nextBeginPage = 0;\n      var index = 0;\n      var pagesHeight = pageHeights[index] || 0;\n\n      while (pageHeights[index + 1] && pagesHeight < top - offset) {\n        index += 1;\n        nextBeginPage += 1;\n        pagesHeight += pageHeights[index];\n      }\n\n      var nextEndPage = nextBeginPage;\n\n      while (pageHeights[index] !== undefined && pagesHeight < top + height + offset) {\n        index += 1;\n        nextEndPage += 1; // when we haven't rendered the nextEndPage and we aren't replacing,\n        // we might not have a height for it yet\n\n        pagesHeight += pageHeights[index] || 0;\n      }\n\n      if (!replace) {\n        // when not replacing, never shrink bounds\n        nextBeginPage = 0;\n        nextEndPage = Math.max(renderPageBounds[1], nextEndPage);\n      }\n\n      if (show) {\n        // ensure we try to render any show page\n        var showPage = calculateLastPageBound(show, step);\n        nextBeginPage = Math.min(showPage, nextBeginPage);\n        nextEndPage = Math.max(showPage, nextEndPage);\n      }\n\n      if (nextBeginPage !== renderPageBounds[0] || nextEndPage !== renderPageBounds[1]) {\n        setRenderPageBounds([nextBeginPage, nextEndPage]);\n      }\n    };\n\n    var timer;\n\n    var debounce = function debounce() {\n      clearTimeout(timer);\n      timer = setTimeout(evaluate, 10);\n    }; // might not be there yet or might have already rendered everything\n\n\n    if (belowMarkerRef.current) {\n      scrollParents = findScrollParents(belowMarkerRef.current);\n      scrollParents.forEach(function (sp) {\n        return sp.addEventListener('scroll', debounce);\n      });\n    }\n\n    window.addEventListener('resize', debounce);\n    evaluate();\n    return function () {\n      if (scrollParents) {\n        scrollParents.forEach(function (sp) {\n          return sp.removeEventListener('scroll', debounce);\n        });\n      }\n\n      window.removeEventListener('resize', debounce);\n      clearTimeout(timer);\n    };\n  }, [pageHeights, renderPageBounds, replace, show, step]); // check if we need to ask for more\n\n  useEffect(function () {\n    if (onMore && renderPageBounds[1] === lastPage && items.length >= pendingLength) {\n      // remember we've asked for more, so we don't keep asking if it takes\n      // a while\n      setPendingLength(items.length + 1);\n      onMore();\n    }\n  }, [items.length, lastPage, onMore, pendingLength, renderPageBounds, step]);\n  useEffect(function () {\n    if (items.length === 0 && lastPage === 0 && pendingLength !== 0) {\n      setPageHeights([]);\n      setPendingLength(0);\n      setRenderPageBounds([0, calculateLastPageBound(show, step)]);\n    }\n  }, [lastPage, pendingLength, show, step, items.length]); // scroll to any 'show'\n\n  useLayoutEffect(function () {\n    // ride out any animation delays, 100ms empirically measured\n    var timer = setTimeout(function () {\n      if (show && belowMarkerRef.current && show !== scrollShow) {\n        // calculate show index based on beginPage\n        var showIndex = show - renderPageBounds[0] * step + (renderPageBounds[0] ? 1 : 0);\n        var showNode = belowMarkerRef.current.parentNode.children.item(showIndex);\n\n        if (showNode) {\n          var scrollParent = findScrollParent(showNode);\n\n          if (isNodeBeforeScroll(showNode, scrollParent)) {\n            showNode.scrollIntoView(true);\n          } else if (isNodeAfterScroll(showNode, scrollParent)) {\n            showNode.scrollIntoView(false);\n          } // clean up after having shown\n\n\n          setScrollShow(show);\n        }\n      }\n    }, 100);\n    return function () {\n      return clearTimeout(timer);\n    };\n  }, [renderPageBounds, show, step]); // calculate and keep track of page heights\n\n  useLayoutEffect(function () {\n    // if don't have a belowMarker, we must have rendered everything already\n    if (!belowMarkerRef.current) return; // calculate page heights for rendered pages\n\n    var rendered = belowMarkerRef.current.parentNode.children; // ensure we've rendered the state we have\n    // above? + items in rendered pages + below === rendered DOM elements length\n\n    if ((aboveMarkerRef.current ? 1 : 0) + (renderPageBounds[1] - renderPageBounds[0] + 1) * step + 1 === rendered.length) {\n      var nextPageHeights; // step through each page\n\n      var i = renderPageBounds[0];\n      var lastBottom;\n\n      while (i <= renderPageBounds[1]) {\n        var topIndex = (aboveMarkerRef.current ? 1 : 0) + (i - renderPageBounds[0]) * step;\n        var bottomIndex = Math.min(topIndex + step - 1, rendered.length - 1); // we use lastBottom for top to ensure grid layouts work\n\n        var top = lastBottom !== undefined ? lastBottom : rendered.item(topIndex).getBoundingClientRect().top;\n\n        var _rendered$item$getBou = rendered.item(bottomIndex).getBoundingClientRect(),\n            bottom = _rendered$item$getBou.bottom;\n\n        var height = bottom - top;\n\n        if (bottom && (!pageHeights || pageHeights[i] !== height)) {\n          if (!nextPageHeights) nextPageHeights = [].concat(pageHeights || []);\n          nextPageHeights[i] = height;\n        }\n\n        lastBottom = bottom;\n        i += 1;\n      } // estimate page heights for pages we haven't rendered yet\n\n\n      while (replace && i <= lastPage) {\n        if (!pageHeights[i] && pageHeights[i] !== pageHeights[0]) {\n          if (!nextPageHeights) nextPageHeights = [].concat(pageHeights || []);\n          var _nextPageHeights = nextPageHeights;\n          nextPageHeights[i] = _nextPageHeights[0];\n        }\n\n        i += 1;\n      }\n\n      if (nextPageHeights) setPageHeights(nextPageHeights);\n    }\n  }, [lastPage, pageHeights, renderPageBounds, replace, step]); // calculate the height above the first rendered page using the pageHeights\n\n  var aboveHeight = useMemo(function () {\n    if (!replace) return 0;\n    var height = 0;\n    var i = 0;\n\n    while (i < renderPageBounds[0]) {\n      height += pageHeights[i] || 0;\n      i += 1;\n    }\n\n    return height;\n  }, [pageHeights, renderPageBounds, replace]); // calculate the height below the last rendered page using the pageHeights\n\n  var belowHeight = useMemo(function () {\n    if (!replace) return 0;\n    var height = 0;\n    var i = renderPageBounds[1] + 1;\n\n    while (i <= lastPage) {\n      height += pageHeights[i] || 0;\n      i += 1;\n    }\n\n    return height;\n  }, [lastPage, pageHeights, renderPageBounds, replace]);\n  var firstIndex = renderPageBounds[0] * step;\n  var lastIndex = Math.min((renderPageBounds[1] + 1) * step, items.length) - 1;\n  var result = [];\n\n  if (aboveHeight) {\n    var marker = /*#__PURE__*/React.createElement(Box, {\n      key: \"above\",\n      ref: aboveMarkerRef,\n      flex: false,\n      height: aboveHeight + \"px\"\n    });\n\n    if (renderMarker) {\n      // need to give it a key\n      marker = /*#__PURE__*/React.cloneElement(renderMarker(marker), {\n        key: 'above'\n      });\n    }\n\n    result.push(marker);\n  }\n\n  items.slice(firstIndex, lastIndex + 1).forEach(function (item, index) {\n    var itemsIndex = firstIndex + index;\n    var child = children(item, itemsIndex);\n    result.push(child);\n  });\n\n  if (replace || renderPageBounds[1] < lastPage || onMore) {\n    var _marker = /*#__PURE__*/React.createElement(Box, {\n      key: \"below\",\n      ref: !renderMarker && belowMarkerRef || undefined,\n      flex: false,\n      height: (belowHeight || 0) + \"px\"\n    });\n\n    if (renderMarker) {\n      // need to give it a key\n      var renderedMarker = renderMarker(_marker);\n      _marker = /*#__PURE__*/React.cloneElement(renderedMarker, {\n        key: 'below',\n        // We need to make sure our belowMarkerRef is tied to a component\n        // that has the same parent as the items being rendered. This is so\n        // we can use belowMarkerRef.current.parentNode.children to\n        // get a reference to the items in the DOM for calculating pageHeights.\n        //\n        // Since the caller might have included a ref in what their\n        // renderMarker returns, we have to take care of both refs.\n        // https://github.com/facebook/react/issues/8873#issuecomment-489579878\n        ref: function ref(node) {\n          // Keep your own reference\n          belowMarkerRef.current = node; // Call the original ref, if any\n\n          var ref = renderedMarker.ref;\n\n          if (typeof ref === 'function') {\n            ref(node);\n          } else if (ref !== null) {\n            ref.current = node;\n          }\n        }\n      });\n    }\n\n    result.push(_marker);\n  }\n\n  return result;\n};\n\nvar InfiniteScrollDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  InfiniteScrollDoc = require('./doc').doc(InfiniteScroll);\n}\n\nvar InfiniteScrollWrapper = InfiniteScrollDoc || InfiniteScroll;\nexport { InfiniteScrollWrapper as InfiniteScroll };","import React, { useState } from 'react'; // When not a descendant of a Form, FormContext still provides a basic\n// useFormInput. It doesn't do anything for components like TextInput.\n// But, it does store the value for components like CheckBox or Select\n// where the grommet component needs to know the value in order to\n// render custom visuals.\n\nvar useFormInput = function useFormInput(_, valueProp, initialValue) {\n  var _useState = useState(valueProp !== undefined ? valueProp : initialValue),\n      value = _useState[0],\n      setValue = _useState[1];\n\n  return [valueProp !== undefined ? valueProp : value, function (nextValue) {\n    if (initialValue !== undefined) setValue(nextValue);\n  }];\n};\n\nvar useFormField = function useFormField(_ref) {\n  var error = _ref.error,\n      info = _ref.info;\n  return {\n    error: error,\n    info: info\n  };\n};\n\nexport var FormContext = /*#__PURE__*/React.createContext({\n  useFormField: useFormField,\n  useFormInput: useFormInput\n});"],"sourceRoot":""}